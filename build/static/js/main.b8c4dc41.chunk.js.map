{"version":3,"sources":["components/Filter.js","components/PersonForm.js","services/phonebook.js","components/Phonebook.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","handler","value","onChange","PersonFrom","newName","handleNameChange","newNumber","handleNumberChange","handleSubmit","onClick","type","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Phonebook","persons","setPersons","person","name","toLowerCase","includes","map","key","number","window","confirm","phoneService","item","deletePerson","Notification","message","success","className","App","useState","setNewName","setNewNumber","setFilter","setMessage","messageSuccess","setMessageSuccess","useEffect","console","log","event","target","PersonForm","preventDefault","every","concat","setTimeout","personToReplace","find","catch","ReactDOM","render","document","getElementById"],"mappings":"mNASeA,EARA,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QACxB,OACE,kDACoB,2BAAOC,MAAOF,EAAQG,SAAUF,MCsBzCG,EAxBI,SAAC,GAMb,IALLC,EAKI,EALJA,QACAC,EAII,EAJJA,iBACAC,EAGI,EAHJA,UACAC,EAEI,EAFJA,mBACAC,EACI,EADJA,aAEA,OACE,8BACE,sCACQ,2BAAOP,MAAOG,EAASF,SAAUG,KAEzC,wCACU,2BAAOJ,MAAOK,EAAWJ,SAAUK,KAE7C,6BACE,4BAAQE,QAASD,EAAcE,KAAK,UAApC,U,gBCjBFC,EAAU,oCAsBD,EApBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAACC,GAAD,OAAcA,EAASC,SAkB9B,EAfA,SAACC,GAEd,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAACC,GAAD,OAAcA,EAASC,SAa9B,EAVA,SAACG,EAAIF,GAElB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAACC,GAAD,OAAcA,EAASC,SAQ9B,EALI,SAACG,GAElB,OADgBP,IAAMS,OAAN,UAAgBV,EAAhB,YAA2BQ,IAC5BL,MAAK,SAACC,GAAD,OAAcA,EAASC,SCQ9BM,EAzBG,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,QAASC,EAAyB,EAAzBA,WAAYzB,EAAa,EAAbA,OAQxC,OACE,oCACE,uCACCwB,EACExB,QAAO,SAAC0B,GAAD,OACNA,EAAOC,KAAKC,cAAcC,SAAS7B,EAAO4B,kBAE3CE,KAAI,SAACJ,GAAD,OACH,uBAAGK,IAAKL,EAAOC,MACZD,EAAOC,KADV,IACiBD,EAAOM,OAAQ,IAC9B,4BAAQtB,QAAS,kBAjBN,SAACgB,GAChBO,OAAOC,QAAP,iBAAyBR,EAAOC,KAAhC,QACFQ,EAAwBT,EAAON,IAAIL,MAAK,WACtCU,EAAWD,EAAQxB,QAAO,SAACoC,GAAD,OAAUA,IAASV,SAclBW,CAAaX,KAApC,gBCXGY,EARM,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,QAC/B,OAAgB,OAAZD,EACK,KAGF,yBAAKE,UAAWD,EAAU,UAAY,SAAUD,ICiF1CG,EAjFH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTnB,EADS,KACAC,EADA,OAEckB,mBAAS,IAFvB,mBAETtC,EAFS,KAEAuC,EAFA,OAGkBD,mBAAS,IAH3B,mBAGTpC,EAHS,KAGEsC,EAHF,OAIYF,mBAAS,IAJrB,mBAIT3C,EAJS,KAID8C,EAJC,OAKcH,mBAAS,MALvB,mBAKTJ,EALS,KAKAQ,EALA,OAM4BJ,oBAAS,GANrC,mBAMTK,EANS,KAMOC,EANP,KAQhBC,qBAAU,WACRf,IAAsBpB,MAAK,SAACC,GAC1BmC,QAAQC,IAAIpC,GACZS,EAAWT,QAEZ,IAkDH,OACE,6BACE,yCACA,kBAAC,EAAD,CAAcuB,QAASA,EAASC,QAASQ,IACzC,kBAAC,EAAD,CAAQhD,OAAQA,EAAQC,QALD,SAACoD,GAAD,OAAWP,EAAUO,EAAMC,OAAOpD,UAMzD,yCACA,kBAACqD,EAAD,CACElD,QAASA,EACTC,iBAXmB,SAAC+C,GAAD,OAAWT,EAAWS,EAAMC,OAAOpD,QAYtDK,UAAWA,EACXC,mBAZqB,SAAC6C,GAAD,OAAWR,EAAaQ,EAAMC,OAAOpD,QAa1DO,aA3De,SAAC4C,GACpBA,EAAMG,iBACN,IAAMtC,EAAY,CAAES,KAAMtB,EAAS2B,OAAQzB,GAC3C,GAAIiB,EAAQiC,OAAM,SAAC/B,GAAD,OAAYA,EAAOC,OAAStB,KAC5C8B,EAAoBjB,GAAWH,MAAK,WAClCU,EAAWD,EAAQkC,OAAOxC,IAC1B6B,EAAW,SAAD,OAAU7B,EAAUS,OAC9BsB,GAAkB,GAClBU,YAAW,WACTZ,EAAW,QACV,aAEA,GACLd,OAAOC,QAAP,UACK7B,EADL,gEAGA,CACA,IAAMuD,EAAkBpC,EAAQqC,MAC9B,SAACnC,GAAD,OAAYA,EAAOC,OAAST,EAAUS,QAExCwB,QAAQC,IAAIQ,GACZzB,EACUyB,EAAgBxC,GAAIF,GAC3BH,MAAK,SAACC,GACLS,EACED,EAAQM,KAAI,SAACJ,GAAD,OACVA,EAAON,KAAOwC,EAAgBxC,GAAKM,EAASV,SAIjD8C,OAAM,WACLf,EAAW,kBAAD,OACUa,EAAgBjC,KAD1B,0CAGVsB,GAAkB,GAClBxB,EAAWD,EAAQxB,QAAO,SAACoC,GAAD,OAAUA,IAASwB,MAC7CD,YAAW,WACTZ,EAAW,QACV,QAGTH,EAAW,IACXC,EAAa,OAmBX,kBAAC,EAAD,CAAWrB,QAASA,EAASC,WAAYA,EAAYzB,OAAQA,M,MC/EnE+D,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.b8c4dc41.chunk.js","sourcesContent":["import React from \"react\";\r\nconst Filter = ({ filter, handler }) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input value={filter} onChange={handler} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst PersonFrom = ({\r\n  newName,\r\n  handleNameChange,\r\n  newNumber,\r\n  handleNumberChange,\r\n  handleSubmit,\r\n}) => {\r\n  return (\r\n    <form>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button onClick={handleSubmit} type=\"submit\">\r\n          add\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonFrom;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"http://localhost:3001/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst deleteUser = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, deleteUser };\r\n","import React from \"react\";\r\nimport phoneService from \"../services/phonebook\";\r\n\r\nconst Phonebook = ({ persons, setPersons, filter }) => {\r\n  const deletePerson = (person) => {\r\n    if (window.confirm(`Delete ${person.name} ?`)) {\r\n      phoneService.deleteUser(person.id).then(() => {\r\n        setPersons(persons.filter((item) => item !== person));\r\n      });\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <h2>Numbers</h2>\r\n      {persons\r\n        .filter((person) =>\r\n          person.name.toLowerCase().includes(filter.toLowerCase())\r\n        )\r\n        .map((person) => (\r\n          <p key={person.name}>\r\n            {person.name} {person.number}{\" \"}\r\n            <button onClick={() => deletePerson(person)}>delete</button>\r\n          </p>\r\n        ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Phonebook;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, success }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  return <div className={success ? \"success\" : \"error\"}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Phonebook from \"./components/Phonebook\";\nimport Notification from \"./components/Notification\";\nimport phoneService from \"./services/phonebook\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [messageSuccess, setMessageSuccess] = useState(true);\n\n  useEffect(() => {\n    phoneService.getAll().then((response) => {\n      console.log(response);\n      setPersons(response);\n    });\n  }, []);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const newObject = { name: newName, number: newNumber };\n    if (persons.every((person) => person.name !== newName)) {\n      phoneService.create(newObject).then(() => {\n        setPersons(persons.concat(newObject));\n        setMessage(`Added ${newObject.name}`);\n        setMessageSuccess(true);\n        setTimeout(() => {\n          setMessage(null);\n        }, 2000);\n      });\n    } else if (\n      window.confirm(\n        `${newName} is already added to the phonebook, replace the old number?`\n      )\n    ) {\n      const personToReplace = persons.find(\n        (person) => person.name === newObject.name\n      );\n      console.log(personToReplace);\n      phoneService\n        .update(personToReplace.id, newObject)\n        .then((response) => {\n          setPersons(\n            persons.map((person) =>\n              person.id !== personToReplace.id ? person : response\n            )\n          );\n        })\n        .catch(() => {\n          setMessage(\n            `Information of ${personToReplace.name} has already been removed from server`\n          );\n          setMessageSuccess(false);\n          setPersons(persons.filter((item) => item !== personToReplace));\n          setTimeout(() => {\n            setMessage(null);\n          }, 3000);\n        });\n    }\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const handleNameChange = (event) => setNewName(event.target.value);\n  const handleNumberChange = (event) => setNewNumber(event.target.value);\n  const handleFilterChange = (event) => setFilter(event.target.value);\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} success={messageSuccess} />\n      <Filter filter={filter} handler={handleFilterChange} />\n      <h3>Add a new</h3>\n      <PersonForm\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n        handleSubmit={handleSubmit}\n      />\n      <Phonebook persons={persons} setPersons={setPersons} filter={filter} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}